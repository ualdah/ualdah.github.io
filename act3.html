<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<meta name="author" content="Desarrollo de Aplicaciones Híbridas&#8201;&#8212;&#8201;Máster en Ingeniería Informática&#8201;&#8212;&#8201;UAL">
<link rel="icon" type="image/x-icon" href="./images/favicon.ico">
<title>Uso de funciones nativas en aplicaciones Ionic</title>
<style>
@import url(http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.0/css/font-awesome.css);
/* normalize.css v2.1.1 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address styling not present in IE 8/9. */
[hidden] { display: none; }

/* ========================================================================== Base ========================================================================== */
/** 1. Prevent system color scheme's background color being used in Firefox, IE, and Opera. 2. Prevent system color scheme's text color being used in Firefox, IE, and Opera. 3. Set default font family to sans-serif. 4. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { background: #fff; /* 1 */ color: #000; /* 2 */ font-family: sans-serif; /* 3 */ -ms-text-size-adjust: 100%; /* 4 */ -webkit-text-size-adjust: 100%; /* 4 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

a:focus { outline: none; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #111111; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #ad141e; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #ad141e; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Arial, sans-serif; font-weight: normal; font-style: normal; color: #111111; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #5e5e5e; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Andale Mono", "monotype.com", "Lucida Console", monospace; font-weight: normal; color: #222222; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }

blockquote, blockquote p { line-height: 1.5; color: #6f6f6f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only { display: none !important; }

@media print { * { background: transparent !important; color: #000 !important; /* Black prints faster: h5bp.com/s */ box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; /* h5bp.com/t */ }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.2; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; padding: 2px; white-space: nowrap; background-color: #eeeeee; border: 0 solid #dddddd; -webkit-border-radius: 0; border-radius: 0; text-shadow: none; }

pre, pre > code { line-height: 1.5; color: white; font-family: Monaco, Consolas, "Courier New", Courier, Sans-serif; font-weight: normal; }

kbd.keyseq { color: #555555; }

kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

kbd kbd:first-child { margin-left: 0; }

kbd kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: #090909; }

p a > code:hover { color: #151515; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }

#toctitle { color: #111111; }

@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #dddddd; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }

#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", sans-serif; font-size: 1em; padding-left: 0.125em; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.35; }

.sect1 { padding-bottom: 1.25em; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #111111; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #040404; }

.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }

.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }

.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #111111; margin-top: 0; line-height: 1.5; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock > .content pre, .listingblock > .content pre { background: #333333; border-width: 0; padding: 10px; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }

.listingblock > .content { position: relative; }

.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }

.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }

table.pyhltable { border: 0; margin-bottom: 0; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }

.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }

table thead th, table tfoot th { font-weight: bold; }

table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 0; border-radius: 0; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }

table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }

table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }

table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }

th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }

th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }

th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }

th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }

th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }

th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }

p.tableblock.header { color: #222222; font-weight: bold; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .8em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.qanda > ol > li > p > em:only-child { color: #96111a; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }

.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #ad141e; color: #820f16; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

#toc a {
  text-decoration: none;
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Uso de funciones nativas en aplicaciones Ionic</h1>
<div class="details">
<span id="author" class="author">Desarrollo de Aplicaciones Híbridas&#8201;&#8212;&#8201;Máster en Ingeniería Informática&#8201;&#8212;&#8201;UAL</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Tabla de contenidos</div>
<ul class="sectlevel1">
<li><a href="#_uso_de_capacitor">1. Uso de Capacitor</a></li>
<li><a href="#_obtención_de_la_geolocalización_del_dispositivo">2. Obtención de la geolocalización del dispositivo</a></li>
<li><a href="#_utilización_de_la_cámara_del_dipositivo">3. Utilización de la cámara del dipositivo</a></li>
<li><a href="#_uso_otras_funcionalidades_nativas">4. Uso otras funcionalidades nativas</a></li>
<li><a href="#_ejercicio_creación_de_una_aplicación_ionic_con_funciones_nativas">5. Ejercicio: Creación de una aplicación Ionic con funciones nativas</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_uso_de_capacitor">1. Uso de Capacitor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para poder utilizar funciones nativas en un proyecto Ionic, debemos incorporar en él la integración con Ionic Capacitor o con Apache Cordova.</p>
</div>
<div class="paragraph">
<p>En esta actividad, vamos a utilizar Ionic Capacitor, por lo que el primer paso es generar una aplicación vacía en la que se active su integración:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ ionic start nativeOpsApp blank --type=angular --capacitor</code></pre>
</div>
</div>
<div class="paragraph">
<p>El siguiente paso será inciar la configuración de Capacitor en el proyecto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ cd nativeOpsApp
$ npx cap init</code></pre>
</div>
</div>
<div class="paragraph">
<p>En las últimas versiones de Ionic, al indicar que se active la integración con Capacitor, se crea un proyecto con la estructura de directorios adecuada para que la integración se realice correctamente. Por ello, si realizamos la ejecución del comando <code>npx cap init</code> en el directorio raíz del proyecto, se nos indicará que ya existe una configuración:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[error] Cannot run init for a project using a non-JSON configuration file.
        Delete capacitor.config.ts and try again.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Podemos eliminar la configuración existe para crear una nueva con el comando <code>npx cap init</code>. Cuando se nos solicite el nombre de la aplicación, lo más práctico es otorgar el mismo nombre que el del proyecto creado. En este caso, el nombre será <code>nativeOpsApp</code>.</p>
</div>
<div class="paragraph">
<p>Cuando se nos pida el identificador del paquete de la aplicación, debemos escribir un nombre con el formato de un paquete Java. En este caso, el nombre que introduciremos será <code>com.dah.nativeops</code>.</p>
</div>
<div class="paragraph">
<p>La salida por consola nos confirma que la integración con Capacitor se ha realizado correctamente y nos indica la referencia a la ayuda para continuar con la configuración del proyecto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[success] capacitor.config.ts created!

Next steps:
https://capacitorjs.com/docs/getting-started#where-to-go-next</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para poder añadir la configuración para una plataforma concreta, debemos primero compilar nuestro proyecto. Por ello, el siguiente paso que debemos ejecutar es:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ ionic build</code></pre>
</div>
</div>
<div class="paragraph">
<p>De esta forma, se habrá creado la carpeta <code>www</code> con los archivos necesarios para poder realizar un despliegue de la aplicación.</p>
</div>
<div class="paragraph">
<p>Ahora podemos añadir diferentes plataformas objetivo para que Capacitor configure su despliegue. Añadiremos las plataformas iOS y Android. Primero debemos instalar las dependencias con ambas plataformas y luego añadir las plataformas en el proyecto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ npm install @capacitor/ios
$ npm install @capacitor/android

$ npx cap add ios
$ npx cap add android</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comprobaremos que la aplicación funciona correctamente mediante la ejecución de:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ ionic serve</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_obtención_de_la_geolocalización_del_dispositivo">2. Obtención de la geolocalización del dispositivo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para la obtención de la geolocalización del dispositivo y su visualización en el aplicación Ionic, debemos instalar la dependencia correspondiente (ver el siguiente <a href="https://capacitorjs.com/docs/apis/geolocation">enlace</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ npm install @capacitor/geolocation
$ npx cap sync</code></pre>
</div>
</div>
<div class="paragraph">
<p>El objetivo de <code>npx cap sync</code> es sincronizar los archivos de origen del proyecto con los archivos nativos de la plataforma objetivo (como iOS y Android). Esto puede incluir la configuración de permisos necesarios en los archivos de configuración nativos, como el archivo <code>Info.plist</code> para iOS o el archivo <code>AndroidManifest.xml</code> para Android. Capacitor también puede realizar otras tareas de sincronización necesarias para garantizar que el complemento de geolocalización funcione correctamente en la aplicación móvil.</p>
</div>
<div class="paragraph">
<p>El siguiente paso es modificar el componente <code>home</code>. En la definición del componente, debemos hacer uso de la funciones ofrecidas por la API Geolocation de Capacitor (<a href="https://capacitorjs.com/docs/apis/geolocation">enlace</a>). Para ello, modificaremos el archivo <code>home.page.ts</code>:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Archivo <code>home.page.ts</code></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Component, OnInit } from '@angular/core';
import { IonHeader, IonToolbar, IonTitle, IonContent, IonItem, IonCard, IonCardContent, IonCardTitle, IonCardHeader } from '@ionic/angular/standalone';
import { Geolocation } from '@capacitor/geolocation'; <i class="conum" data-value="1"></i><b>(1)</b>

@Component({
  selector: 'app-home',
  templateUrl: 'home.page.html',
  styleUrls: ['home.page.scss'],
  imports: [IonHeader, IonToolbar, IonTitle, IonContent, IonItem, IonCard, IonCardContent, IonCardTitle, IonCardHeader],
})
export class HomePage implements OnInit {

  public latitude?: number; <i class="conum" data-value="2"></i><b>(2)</b>
  public longitude?: number; <i class="conum" data-value="2"></i><b>(2)</b>
  public accuracy?: number; <i class="conum" data-value="2"></i><b>(2)</b>

  async ngOnInit() {
    await this.getLocation(); <i class="conum" data-value="3"></i><b>(3)</b>
  }

  private async getLocation() { <i class="conum" data-value="4"></i><b>(4)</b>
    try {
      const position = await Geolocation.getCurrentPosition(); <i class="conum" data-value="5"></i><b>(5)</b>
      this.latitude = position.coords.latitude;
      this.longitude = position.coords.longitude;
      this.accuracy = position.coords.accuracy;
    } catch (error) {
      console.error('Error al obtener la geolocalización:', error);
    }
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importación de la dependencia de Capacitor para el uso del Plugin <code>Geolocation</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Creación de propiedades para representar la latitud, la longitud y la precisión. Estas propiedades se inicializan con el valor <code>undefined</code>. Usar <code>?</code> simplifica el código y establece que la propiedad no tiene un valor inicial, sino que se asignará más tarde.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Llamada al método <code>getLocation()</code> al iniciar el componente. <code>ngOnInit()</code> no tiene que ser necesariamente <code>async</code>, pero en este caso lo hacemos porque queremos llamar a <code>await this.getLocation();</code> dentro de él.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Declaración del método <code>getLocation()</code> de forma asíncrona (<code>async</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>La ejecución del método se debe esperar hasta que finalice la ejecución de la operación <code>getCurrentPosition()</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para poder ejecutar métodos de forma asíncrona se hace uso del patrón <code>async</code> / <code>await</code> (ver el siguiente <a href="https://blog.logrocket.com/async-await-in-typescript/">enlace</a>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>En la plantilla del componente, realizaremos la siguiente modificación para mostrar los valores de la latitud y la longitud:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Archivo <code>home.page.html</code></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">  ...

  &lt;div id="container"&gt;

    &lt;ion-card&gt;
      &lt;ion-card-header&gt;
        &lt;ion-card-title&gt;Coordinates&lt;/ion-card-title&gt;
      &lt;/ion-card-header&gt;
      &lt;ion-card-content&gt;
        &lt;ion-item&gt;Latitude: {{ latitude }}&lt;/ion-item&gt;
        &lt;ion-item&gt;Longitude: {{ longitude }}&lt;/ion-item&gt;
        &lt;ion-item&gt;Accuracy: {{ accuracy }}&lt;/ion-item&gt;
      &lt;/ion-card-content&gt;
    &lt;/ion-card&gt;

  &lt;/div&gt;

&lt;/ion-content&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Al guardar los cambios, la ejecución de la aplicación nos solicitará los permisos para que el navegador pueda obtener la localización de nuestro dispositivo.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_utilización_de_la_cámara_del_dipositivo">3. Utilización de la cámara del dipositivo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>El plugin Camera de Capacitor requiere de la instalación de una librería adicional, que es PWA Elements (<a href="https://capacitorjs.com/docs/web/pwa-elements">enlace</a>). Para su correcto funcionamiento, debemos instalar las siguientes dependencias en el proyecto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ npm install @ionic/pwa-elements
$ npm install @capacitor/camera
$ npx cap sync</code></pre>
</div>
</div>
<div class="paragraph">
<p>Adicionalmente, debemos modificar el archivo <code>src/main.ts</code> para hacer uso de PWA Elements:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Archivo <code>main.ts</code></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { bootstrapApplication } from '@angular/platform-browser';
import { RouteReuseStrategy, provideRouter, withPreloading, PreloadAllModules } from '@angular/router';
import { IonicRouteStrategy, provideIonicAngular } from '@ionic/angular/standalone';

import { routes } from './app/app.routes';
import { AppComponent } from './app/app.component';

import { defineCustomElements } from '@ionic/pwa-elements/loader'; <i class="conum" data-value="1"></i><b>(1)</b>

defineCustomElements(window); <i class="conum" data-value="2"></i><b>(2)</b>

bootstrapApplication(AppComponent, {
  providers: [
    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },
    provideIonicAngular(),
    provideRouter(routes, withPreloading(PreloadAllModules)),
  ],
});</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importación de la operación <code>defineCustomElements</code> de PWA Elements</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Ejecución de la operación <code>defineCustomElements</code> para permitir el uso de algunos plugins de Capacitor en el caso de PWAs</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Para la utilización de la cámara, vamos a utilizar las funciones ofrecidas por la API Camera de Capacitor (<a href="https://capacitorjs.com/docs/apis/camera">enlace</a>).</p>
</div>
<div class="paragraph">
<p>Modificaremos la definición del componente <code>home</code>:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Archivo <code>home.page.ts</code></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ts" data-lang="ts">import { Component, inject, OnInit } from '@angular/core';
import { IonHeader, IonToolbar, IonTitle, IonContent, IonIcon, IonFabButton, IonFab } from '@ionic/angular/standalone';
import { Camera, CameraResultType } from '@capacitor/camera'; <i class="conum" data-value="1"></i><b>(1)</b>
import { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser'; <i class="conum" data-value="2"></i><b>(2)</b>
import { camera } from 'ionicons/icons'; <i class="conum" data-value="3"></i><b>(3)</b>
import { addIcons } from 'ionicons'; <i class="conum" data-value="3"></i><b>(3)</b>

@Component({
  selector: 'app-home',
  templateUrl: 'home.page.html',
  styleUrls: ['home.page.scss'],
  imports: [IonHeader, IonToolbar, IonTitle, IonContent, IonIcon, IonFab, IonFabButton],
})
export class HomePage  {

  public photo?: SafeResourceUrl; <i class="conum" data-value="4"></i><b>(4)</b>

  private sanitizer = inject(DomSanitizer); <i class="conum" data-value="5"></i><b>(5)</b>

  constructor() {
    addIcons({ camera }); <i class="conum" data-value="3"></i><b>(3)</b>
  }

  public async takePicture(): Promise&lt;void&gt; { <i class="conum" data-value="6"></i><b>(6)</b>
    try {
      const image = await Camera.getPhoto({ <i class="conum" data-value="7"></i><b>(7)</b>
        quality: 100,
        allowEditing: false,
        resultType: CameraResultType.Uri
      });

      if (image.webPath) {
        this.photo = this.sanitizer.bypassSecurityTrustResourceUrl(image.webPath); <i class="conum" data-value="8"></i><b>(8)</b>
      }
    } catch (error) {
      console.error('Error al capturar la foto:', error);
    }
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Importación de los elementos necesarios para hacer uso de <code>Camera</code> de Capacitor</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Importación de <code>DomSanitizer</code> (<a href="https://angular.dev/api/platform-browser/DomSanitizer">enlace</a>) para confiar en la dirección de la foto aunque sea obtenida del dispositivo y de <code>SafeResourceUrl</code> (<a href="https://angular.dev/api/platform-browser/SafeResourceUrl">enlace</a>) para guardar la dirección de la foto</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Importación de iconos de para poder utilizar el icono de la cámara (<a href="https://ionicframework.com/docs/api/icon">enlace</a>)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Propiedad para describir la dirección de la foto</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Inyección de <code>DomSanitizer</code></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Operación <code>takePicture</code> que se ejecuta de forma asíncrona</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Ejecución de <code>getPhoto</code> para obtener la foto del dispositivo. La ejecución de la operación <code>takePicture</code> se espera hasta que finaliza dicha ejecución</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Asignación de la dirección de la foto</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>En la plantilla del componente, realizaremos la siguiente modificación para mostrar un botón que nos permita obtener una foto desde la cámara del dispositivo:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Archivo <code>home.page.html</code></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">  &lt;div id="container"&gt;

    &lt;img alt="Photo" [src]="photo"&gt; <i class="conum" data-value="1"></i><b>(1)</b>

    &lt;ion-fab vertical="bottom" horizontal="center" slot="fixed"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
      &lt;ion-fab-button (click)="takePicture()"&gt; <i class="conum" data-value="3"></i><b>(3)</b>
        &lt;ion-icon name="camera"&gt;&lt;/ion-icon&gt; <i class="conum" data-value="4"></i><b>(4)</b>
      &lt;/ion-fab-button&gt;
    &lt;/ion-fab&gt;

  &lt;/div&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Elemento HTML para mostrar una imagen cuyo origen está determinado por la dirección que define la propiedad <code>photo</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Contenedor de botones <code>fab</code> (Floating Action Buttons)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Botón vinculado a la operación <code>takePicture()</code> del componente</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Icono de una cámara</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Al ejecutar la aplicación, se nos solicitarán los permisos para que el navegador pueda acceder a la cámara de nuestro dispositivo.</p>
</div>
<div class="paragraph">
<p>Al pulsar el botón, se ejecutará la operación <code>takePicture</code> para abrir el componente de la cámara que se encarga de realizar la operación <code>getPhoto</code>.</p>
</div>
<div class="paragraph">
<p>Cuando seleccionemos una foto como válida (tic verde del componente de la cámara), continuará la ejecución del método <code>takePicture</code>, de forma que se actualizará el valor de la propiedad <code>photo</code> y se mostrará en la vista del componente. Se mostrará detrás del botón, por el tipo de botón especificado (FAB).</p>
</div>
<div class="paragraph">
<p>Es necesario recordar que el despliegue de la aplicación en las plataformas iOS y Android requiere la realización de configuraciones adicionales. Para ello, se debe consultar la documentación del plugin Camera de Capacitor (<a href="https://capacitorjs.com/docs/apis/camera">enlace</a>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uso_otras_funcionalidades_nativas">4. Uso otras funcionalidades nativas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para profundizar en el uso de funcionalidades nativas en aplicaciones Ionic, se recomienda al menos probar el uso de:</p>
</div>
<div class="paragraph">
<p>&#8201;&#8212;&#8201;<code>Storage</code> (<a href="https://capacitorjs.com/docs/guides/storage">enlace</a>), para almacenar datos en el dispositivo.</p>
</div>
<div class="paragraph">
<p>&#8201;&#8212;&#8201;<code>Toast</code> (<a href="https://capacitorjs.com/docs/apis/toast">enlace</a>), para mostrar mensajes en la aplicación.</p>
</div>
<div class="paragraph">
<p>&#8201;&#8212;&#8201;<code>Modals</code> (<a href="https://capacitorjs.com/docs/apis/modals">enlace</a>), para mostrar ventanas modales en la aplicación. Es aconsejable probar la visualización de un modal en la aplicación y compararla con la visualización de un <code>alert</code> o un <code>confirm</code> de Ionic, además de comparar la visualización obtenida en diferentes plataformas.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ejercicio_creación_de_una_aplicación_ionic_con_funciones_nativas">5. Ejercicio: Creación de una aplicación Ionic con funciones nativas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Como ejercicio, se debe crear una aplicación que tenga las siguientes características:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>El inicio de la aplicación muestra una página con un texto descriptivo (que resuma el funcionamiento de la aplicación) y dos botones que nos permite acceder a dos nuevas páginas.</p>
</li>
<li>
<p>La primera nueva página tiene un botón para poder obtener una foto de la cámara del dispositivo.</p>
<div class="ulist">
<ul>
<li>
<p>Hasta que no se obtenga ninguna foto desde el dispositivo, se debe mostrar una imagen que describa que todavía no ha sido obtenida ninguna foto.</p>
</li>
<li>
<p>Al obtenerse la foto, debe mostrarse dicha foto y debajo un texto que especifique la geolocalización (longitud y latitud) en la que se ha obtenido la foto.</p>
</li>
<li>
<p>La información con la URI de la foto, la longitud y la latitud debe guardarse de forma persiste y de manera local.</p>
</li>
<li>
<p>Las operaciones de la aplicación se deben ejecutar de forma correcta mediante el uso de servicios.</p>
</li>
</ul>
</div>
</li>
<li>
<p>La segunda nueva página muestra un listado de prueba con algunos elementos. Al realizar una interacción con el listado, debe mostrarse un mensaje que avise al usuario de que esa parte de la aplicación está "En construcción".</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-03-11 14:19:43 +0100
</div>
</div>
</body>
</html>